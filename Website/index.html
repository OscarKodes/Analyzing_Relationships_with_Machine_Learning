<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>Exploring Relationships with Machine Learning</title>

    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,500;0,700;1,400&family=Maven+Pro&display=swap"
        rel="stylesheet">

    <!-- Local CSS -->
    <link rel="stylesheet" href="styles.css">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

</head>

<body>

    <div id="main-container">

        <!-- INTRODUCTION SECTION -->

        <div id="title" class="section">

            <div id="cover-img">
                <img src="cover.png" alt="Cover image. Couple sitting on bench.">
                <a id="photo-src" href="https://unsplash.com/photos/wHaQ4XJ9SgY" target="_blank">
                    Photo - Marc A.
                </a>
            </div>

            <h1>Exploring Relationships with Machine Learning</h1>

            <p class="by-line my-link">
                By <a href="https://www.oscarko.net" target="_blank">Oscar Ko</a>
            </p>



            <!-- <p id="intro-question">
                What can we learned about relationships with machine learning?
            </p> -->

            <div class="bullet-list">
                <h3>Research Questions:</h3>
                <ul>
                    <li>
                        Do couples that meet on dating apps have higher or lower quality relationships?
                    </li>
                    <li>
                        Can any features in this dataset help predict how a subject would rate their relationship
                        quality?
                    </li>
                    <li>
                        What insights can I derive from using machine learning for exploratory analysis?
                    </li>
                </ul>
            </div>

            <div class="collapsable no-padding">
                <button class="toggle-btn">
                    Data Source & Cleaning Process
                    <span class="show-hide">
                        Click to Show
                    </span>
                </button>

                <p class="hidden toggle-txt">

                    This dataset was taken from a Stanford University survey called, "<a
                        href="https://data.stanford.edu/hcmst2017" target="_blank">How Couples Meet and Stay Together
                        2017</a>." This
                    dataset contains many variables including age, education level, political party, income, usage of
                    dating
                    apps, and quality of relationship (as self-rated by the subject). To prepare this data for analysis,
                    I
                    renamed and recoded a few features.

                    <br><br>
                    For example, one notable change I made was for the relationship
                    quality variable. It was originally based on a scale from 1 to 5; 1 being "Excellent," 2 being
                    "Good,"
                    and 5
                    being "Very Poor." I created a new binary variable that only specified whether or not if a couple
                    was
                    "good" or "not good." Couples that were rated as "good" or "excellent" in the original outcome
                    varible,
                    were categorized as "good" in the categorical outcome. For the regression models I conducted, I
                    flipped
                    the values of the original outcome varible, so 5 was "Excellent" and 1 was "Very Poor." This helped
                    make
                    interpretation more intuitive.

                    <br><br>

                    All the specific cleaning steps I took can be seen in
                    this <a
                        href="https://github.com/OscarKodes/Analyzing_Relationships_with_Machine_Learning/blob/main/0%20-%20Initial%20Data%20Preparation.ipynb"
                        target="_blank">Jupyter notebook</a>. During the cleaning process, I also consulted
                    this <a
                        href="https://stacks.stanford.edu/file/druid:vt073cc9067/HCMST_2017_fresh_Codeboodk_v1.1a.pdf"
                        target="_blank">codebook</a>.
                </p>

            </div>

        </div>


        <!-- CONCLUSION (SHORT) SECTION -->

        <!-- <div id="conclusion-short" class="section">
            <h2>Conclusion (Short)</h2>

            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloremque hic in facilis atque adipisci omnis
                reprehenderit porro molestias itaque exercitationem, voluptatem qui aut id, quas neque cumque, quisquam
                officiis consequatur.
            </p>

        </div> -->


        <!-- NOTEBOOK RESULTS VIS SECTION -->

        <div id="notebook-vis" class="section">
            <h2>Machine Learning Analysis</h2>

            <p>
                I analyzed this dataset by creating four notebooks where I conducted Exploratory Data Analysis,
                Classification,
                Regression,
                and Principal Component Analysis.

                <br><br>
                With the dropdown menu below, you can view visualizations of the results from those four notebooks:

            </p>


            <div id="dropdown-container">
                <select name="" id="dropdown">
                    <option value="1">Top Correlations b/w Features</option>
                    <option value="2">Top Correlations with Relationship Quality</option>
                    <option value="3">Classification Backwards Elimination</option>
                    <option value="4">Regression Backwards Elimination</option>
                    <option value="5">Principal Component Analysis</option>
                </select>
            </div>



            <!-- SUPERVISED LEARNING NOTEBOOKS -->

            <div id="supervised-container">

                <!-- VIS DESCRIPTION -->

                <p class="super-text1 n1">
                    This barchart shows the <span class="ital">numerical</span> features within the dataset that had the
                    strongest correlations with each
                    other based on the
                    correlation matrix conducted in the <a
                        href="https://github.com/OscarKodes/Analyzing_Relationships_with_Machine_Learning/blob/main/1%20-%20Exploratory%20Analysis%20.ipynb"
                        target="_blank">
                        EDA notebook</a>.
                </p>
                <p class="super-text1 n2">
                    This barchart shows the <span class="ital">numerical</span> features that had the strongest
                    correlations with relationship quality
                    ratings based
                    on the correlation matrix conducted in the <a
                        href="https://github.com/OscarKodes/Analyzing_Relationships_with_Machine_Learning/blob/main/1%20-%20Exploratory%20Analysis%20.ipynb"
                        target="_blank">EDA
                        notebook</a>.
                </p>
                <p class="super-text1 n3">
                    This barchart shows the features remaining in the Logistic Regression model after conducting
                    backwards elimination to remove
                    statistically insignificant features (where their alpha levels were over p = .05). The specific
                    steps I took
                    can be found in the <a
                        href="https://github.com/OscarKodes/Analyzing_Relationships_with_Machine_Learning/blob/main/2%20-%20Classification.ipynb"
                        target="_blank">classification
                        notebook</a>.
                </p>
                <p class="super-text1 n4">
                    This barchart shows the features left in my Linear Regression model after conducting backwards
                    elimination to remove all features that were statistically insignificant (where their alpha levels
                    were over p = .05). The specific steps I took
                    can be found in the <a
                        href="https://github.com/OscarKodes/Analyzing_Relationships_with_Machine_Learning/blob/main/3%20-%20Regression.ipynb"
                        target="_blank">regression
                        notebook</a>.
                </p>


                <!-- DYNAMIC BAR VIS -->

                <div id="bar-vis" class="vis">
                    <h3 class="vis-title n1">Top Correlations between Numeric Features</h3>
                    <h3 class="vis-title n2">Top Correlations between Numeric Features & Relationship Quality</h3>
                    <h3 class="vis-title n3">Classification Feature Coefficients</h3>
                    <h3 class="vis-title n4">Regression Feature Coefficients</h3>
                </div>


                <!-- NOTABLE FINDINGS -->

                <div class="super-text2 n1">
                    <p>All the correlations between the feature pairs above had a p-value of 0, so there is statistical
                        significance.</p>

                    <div class="bullet-list">
                        <ul>
                            <h4>Interesting Findings:</h4>
                            <li><span class="bold">Political Views: </span>Subjects were more likely to be with partners
                                that had similar
                                political views.</li>
                            <li><span class="bold">Education: </span>Subjects were more likely to be with partners that
                                had similar education
                                levels.</li>
                            <ul>
                                <li>
                                    As there is correlation between a subject's and their mother's education
                                    levels, the
                                    couple's
                                    mothers
                                    were also likely to have similar education levels with each other.
                                </li>
                            </ul>

                            <li><span class="bold">Age: </span>The older a subject was when the couple first met, the
                                larger their age gap tended
                                to
                                be <span class="ital">and</span> the shorter it took for them to
                                become
                                a couple.</li>
                        </ul>
                    </div>

                </div>

                <div class="super-text2 n2">
                    <p>All the top correlations with rQual shown had p-values below 0.05, so there is statistical
                        significance.</p>

                    <div class="bullet-list">
                        <ul>
                            <h4>Interesting Findings:</h4>
                            <li>
                                Subjects were more likely to rate their relationships as "good" if the couple had:
                                <ul>
                                    <li>Higher household income</li>
                                    <li>Higher education levels</li>
                                    <li>Older age</li>
                                </ul>
                            </li>
                            <li>
                                Subjects were less likely to rate their relationships as "good" if the couple had:
                                <ul>
                                    <li>More household members below the age of 18</li>
                                </ul>
                            </li>

                        </ul>
                    </div>

                </div>

                <div class="super-text2 n3">

                    <div class="bullet-list">
                        <ul>
                            <h4>Interesting Findings:</h4>
                            <li>
                                Subjects were more likely to rate their relationships as "good" if the couple had:
                                <ul>
                                    <li>Higher household income</li>
                                    <li>Higher education levels</li>
                                    <li>Older age</li>
                                    <li>Sex frequency of once a week or more</li>
                                </ul>
                            </li>
                            <li>
                                Subjects were less likely to rate their relationships as "good" if the couple had:
                                <ul>
                                    <li>Sex frequency of once a month or less</li>
                                </ul>
                            </li>

                        </ul>
                    </div>

                </div>



                <div class="super-text2 n4">

                    <p>
                        <span class="bold">Note! </span>
                        Any racial correlations here should be taken with a grain of salt. Most subjects and their
                        partners in this dataset identified as white, so when it comes to issues of race on
                        relationships,
                        we would need much more data. And even with more data, racial issues can be very complex as they
                        may be tied to many
                        other correlated factors
                        such
                        as eductional and economic opportunties.</p>

                    <div class="bullet-list">
                        <ul>
                            <h4>Interesting Findings:</h4>
                            <li>
                                Subjects were more likely to rate their relationships as "good" if the couple had:
                                <ul>
                                    <li>Higher household income</li>
                                    <li>About the same income earnings as each other</li>
                                    <li>Older age</li>
                                    <li>Sex frequency of once a week or more</li>
                                    <li>Met in school</li>
                                    <li>Met as "work neighbors"</li>
                                </ul>
                            </li>
                            <li>
                                Subjects were less likely to rate their relationships as "good" if the couple had:
                                <ul>
                                    <li>Sex frequency of once a month or less</li>
                                </ul>
                            </li>
                        </ul>

                    </div>
                </div>

                <a class="bottom-notebook-link" id="notebook-link" href="" target="_blank">Open selected notebook on
                    Github</a>
            </div>



            <!-- UNSUPERVISED LEARNING NOTEBOOK -->

            <div id="unsupervised-container" class="hidden">

                <!-- DESCRIPTION -->

                <div class="collapsable no-padding ">
                    <button class="toggle-btn">
                        About PCA & Heat Map<span class="show-hide">
                            Click to Show
                        </span>
                    </button>

                    <p class="toggle-txt hidden">
                        PCA, Principal Component Analysis, treats an entire dataset as a big data blob. The areas of
                        this
                        blob
                        that
                        stretch out the farthest (the areas with the most variation) are selected as the "principal
                        components." The
                        principal components are sorted from most to least variance captured, so visualizing the first
                        two
                        components as the x and y axes is a good way to investigate a dataset.

                        <br><br>

                        When a principal component is used as an axis on a scatterplot, it can be difficult to interpret
                        because
                        they take in information from many different features. Visualizing these components on a heat
                        map
                        first might
                        help interpretation.

                        <br><br>

                        (As shown on the heat map below, not all features of the dataset are present. It is
                        because I selected only the significant features from my classification and regression models to
                        conduct PCA on. Limiting the number of features helps make interpretation of each principal
                        component simpler.)

                    </p>

                </div>





                <!-- HEAT VIS -->

                <div id="heat map-vis" class="vis">
                    <h3>
                        Components 0 & 1 - Features
                    </h3>
                </div>



                <!-- TEXT INTERPRET -->


                <div id="interpreting-heat map" class="collapsable no-padding">
                    <button class="toggle-btn">Interpreting the Components<span class="show-hide">
                            Click to Show
                        </span></button>

                    <div class="hidden toggle-txt">

                        <p>
                            The values of the features here shows is how they contribute to that principal component.

                            <br><br>
                            The grey colored rectangles have values closer to 0, so they don't contribute much to that
                            component. (It doesn't necessarily mean the feature isn't significant. It just means this
                            specific
                            component's captured variance doesn't have anything to do with that feature.)

                            <br><br>
                            A yellow colored feature shows that it is positive, so if the component were represented on
                            an
                            axis,
                            increasing along this axis would represent more of that feature.

                            <br><br>
                            For example, Component 0 has the feature "householdMinor_num" colored in yellow, so as you
                            go
                            forward
                            on this axis, the subjects tend to have more children at home.

                            <br><br>
                            A black colored feature shows that it is negative, so if the component were represented on
                            an
                            axis,
                            increasing along this axis would represent less of that feature.

                            <br><br>
                            For example, Component 0 has the feature "partnerAge" colored in black, so as you go forward
                            on
                            this
                            axis,
                            the
                            subjects tend to have younger partners.
                            <br><br>

                            Below is my interpretation of the two components.
                        </p>


                        <h4 class="component-title">Component 0</h4>

                        <div class="bullet-list">
                            <p class="charge-signs">Positive</p>
                            <ul>
                                <li>Number of minors in household (strong)</li>
                                <li>Partner's mother education (strong)</li>
                            </ul>

                            <p class="charge-signs">Negative</p>
                            <ul>
                                <li>Partner's Age (strong)</li>
                            </ul>

                        </div>



                        <h4 class="component-title">Component 1:</h4>

                        <div class="bullet-list">

                            <p class="charge-signs">Positive</p>
                            <ul>
                                <li>Household income (strong)</li>
                                <li>Partner's mother education (strong)</li>
                            </ul>


                            <p class="charge-signs">Negative</p>
                            <ul>
                                <li>Number of minors in household (moderate)</li>
                            </ul>

                        </div>

                        <br>


                    </div>

                </div>






                <!-- SCATTER VIS -->

                <div id="scatter-vis" class="vis">
                    <h3>Relationship Quality: Good vs Not Good</h3>
                </div>


                <!-- TEXT INTERPRET -->

                <div class="collapsable no-padding">
                    <button class="toggle-btn">Interpreting Scatterplot<span class="show-hide">
                            Click to Show
                        </span></button>

                    <p class="toggle-txt hidden">
                        As shown above, there seems to be yellow and blue dots all over the plot.

                        <br><br>

                        While the areas at the bottom and at the right have less blue dots, it seems there are just less
                        dots there overall, so nothing can be said there.

                        <br><br>

                        Interestingly, the far top and far left areas have few blue dots but still a decent amount of
                        yellow dots!

                        <br><br>

                        Using the heat map of component 1 for interpretation, it seems cases at the far top of this
                        scatterplot have subjects of higher household income, more education, and slightly
                        less children living at home. (The feature here was for the partner's mother's education, but as
                        seen with the correlations in the other notebooks, the education levels of the subject, partner,
                        and
                        their mothers all have some correlation.)

                        <br><br>

                        Using the heat map of component 0 for interpretation, cases at the far left of this scatterplot
                        have
                        subjects of more education, less children living at home, and older age. (The feature
                        here was for the partner's age, but as seen with the correlations in the other notebooks,
                        subjects
                        tended to be in relationships with partners of similar age.)

                        <br><br>
                    </p>
                </div>



                <div class="bullet-list pca-findings">
                    <ul>
                        <h4>Interesting Findings:</h4>
                        <li>
                            A subject was more likely to rate their relationships as "good" if the couple had:
                            <ul>
                                <li>Higher household income</li>
                                <li>More education</li>
                                <li>Older age</li>
                            </ul>
                        </li>
                        <li>
                            A subject was less likely to rate their relationships as "good" if the couple had:
                            <ul>
                                <li>More household members below the age of 18</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <a class="bottom-notebook-link"
                    href="https://github.com/OscarKodes/Analyzing_Relationships_with_Machine_Learning/blob/main/4%20-%20Unsupervised.ipynb"
                    target="_blank">Selected
                    notebook on Github</a>
            </div>


            <a id="return-link" href="#notebook-vis">
                <i id="arrow1" class="fas fa-arrow-up"></i>
                Return to dropdown
                <i id="arrow2" class="fas fa-arrow-up"></i>
            </a>

        </div>


        <!-- CONCLUSION SECTION -->

        <div id="conclusion-long" class="section">
            <h2>Conclusions</h2>

            <p>
                <span class="ital">
                    Do couples that meet on dating apps have higher or lower quality relationships?
                </span>

                <br><br>

                In the all the models built, it seems there was no statistical significance between meeting on dating
                apps and rated relationship quality.

                <br><br>

                <span class="ital">
                    What insights can I derive from using machine learning for exploratory analysis? Can any features in
                    this dataset help predict how a subject would rate their relationship
                    quality?
                </span>

                <br><br>

                Some interesting findings are that the education levels and political views of subjects and their
                partners tend to be about the same. The older a subject was when the couple first met, the larger their
                age gap tended to be and the shorter it took for them to become a couple.

                <br><br>

                As for the best features to predict relationship quality, a feature may show up as significant in one
                model, but maybe it wouldn't be so significant in other
                models. In the efforts for exploratory analysis, if a feature appeared as signifigant in multiple models
                surely, there is something worth further investigation here.

                <br><br>

                In the table below, I grouped together similar features into their general concepts. For example
                "subjectAge" and
                "partnerAge" both relate to age, and they are correlated, so for simplicity I grouped them together in
                the
                table below as "Age."

                <br><br>

                With this table we can see which general concepts popped up as significant in which models.
            </p>


            <!-- TABLE STARTS BELOW -->

            <div id="table-container">
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Classification</th>
                            <th>Regression</th>
                            <th>Unsupervised</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="highlight">
                            <td># of Household Minors</td>
                            <td></td>
                            <td>✅</td>
                            <td>✅</td>
                            <td>2</td>
                        </tr>
                        <tr class="highlight">
                            <td>Age</td>
                            <td>✅</td>
                            <td></td>
                            <td>✅</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Earned about the same</td>
                            <td></td>
                            <td>✅</td>
                            <td></td>
                            <td>1</td>
                        </tr>
                        <tr class="highlight">
                            <td>Education</td>
                            <td>✅</td>
                            <td></td>
                            <td>✅</td>
                            <td>2</td>
                        </tr>
                        <tr class="highlight">
                            <td>Household Income</td>
                            <td>✅</td>
                            <td>✅</td>
                            <td>✅</td>
                            <td>3</td>
                        </tr>
                        <tr class="highlight">
                            <td>Living Together</td>
                            <td>✅</td>
                            <td>✅</td>
                            <td></td>
                            <td>2</td>
                        </tr>
                        <tr class="highlight">
                            <td>Met as Coworkers / Work Neighbors</td>
                            <td>✅</td>
                            <td>✅</td>
                            <td></td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>Met in School</td>
                            <td></td>
                            <td>✅</td>
                            <td></td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>Race</td>
                            <td></td>
                            <td>✅</td>
                            <td></td>
                            <td>1</td>
                        </tr>
                        <tr class="highlight">
                            <td>Sex Frequency</td>
                            <td>✅</td>
                            <td>✅</td>
                            <td></td>
                            <td>2</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- TABLE ENDS ABOVE -->


            <!-- CLOSING WORDS -->

            <p>
                It seems the general concepts that appeared in more than one model were
                <span class="bold">number of household minors</span>,
                <span class="bold">age</span>,
                <span class="bold">education</span>,
                <span class="bold">income</span>,
                <span class="bold">living together</span>, and
                <span class="bold">sex frequency</span>.
                Less of the first feature and more of any of the last five seem to be
                correlated with higher likelihood a subject would rate their relationship as "good."

                <br><br>

                Meeting as <span class="bold">workmates</span> also seems to have correlation with relationship quality,
                but there seems to be conflicting results.
                "metAs_coworkers" is correlated with <span class="ital">lower</span> likelihood of
                "good" relationship
                quality, while "metAs_workNeighbors" was correlated with <span class="ital">higher</span> liklihood.
                When consulting the
                codebook, it was unclear what the distinction was
                between
                "coworkers"
                and
                "work neighbors" were, if any.

                <br><br>

                The relationship between these seven concepts and relationship quality might be worth investigating
                further
                with future studies and more relationship data.

                <br><br>

                As a quick reminder, correlation does not mean causation. This analysis is done on just one dataset of
                couples. Relationships in the real world might be very different.

                Just because a couple is of certain ages, races, education levels, or incomes it neither
                means their relationship is doomed to fail, nor destined to succeed.




                <div id="quote" class="ital">
                    <p>
                        "I've learned that you can't predict [love] or plan for it. For someone like me who is obsessed
                        with
                        organization and planning, I love the idea that love is the one exception to that. Love is the
                        one
                        wild
                        card." - Taylor Swift</p>

                </div>





            </p>

        </div>


        <div id="bottom-link" class="my-link">
            <a href="https://www.oscarko.net" target="_blank">www.OscarKo.net</a>
        </div>






        <!-- Tippy Popper CDN -->
        <script src="https://unpkg.com/popper.js@1"></script>
        <script src="https://unpkg.com/tippy.js@4"></script>

        <!-- D3.js CDN -->
        <script src="https://d3js.org/d3.v7.min.js"></script>

        <!-- Javascript -->
        <script type="module" src="main-bar.js"></script>
        <script type="module" src="main-heat map.js"></script>
        <script type="module" src="main-scatter.js"></script>
        <script type="module" src="notebook-switcher.js"></script>
        <script type="module" src="toggle-text.js"></script>

    </div>

</body>

</html>